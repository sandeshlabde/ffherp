<div *ngIf="entityData" class="entityData">
  <div class="modal-header comp_name">
    <!-- header part with company name, id and title starts here -->
    <div class="col-lg-6">
      <div class="p-1">
        <div class="text-start">
          <h3>{{ entityData?.CompanyName }}</h3>
        </div>
      </div>
    </div>
    <!-- id and title section -->
    <div class="col-lg-5 text-end">
      <div class="row">
        <div>{{ EntityNameTitle }} ID : {{ Entityid }}</div>
      </div>
      <div class="row" id="id_title">
        <div>Title : {{ entityData?.Title }}</div>
      </div>
    </div>
    <div class="col-lg-1 text-end">
      <button type="button" mat-dialog-close class="btn-close"></button>
    </div>
  </div>
  <div class=" ">
    <div class="billing">
      <div class="col-lg-6 entity_box address_part">
        <div>
          <div><b>Billing Address</b></div>
          <br />
          <span class="text-dark" id="col_2 ">
            {{ entityData?.CompanyAddress }} <br />
            {{ entityData?.CompanyAddress1 }}
          </span>
        </div>
      </div>
      <!-- second column in row -->
      <div class="col-lg-6 entity_box">
        <div class="row">
          <div class="col-lg-6">
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Status :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Status }}</span
                >
              </b>
            </div>
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Priority :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Priority }}
                </span>
              </b>
            </div>
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Source :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Source }}</span
                ></b
              >
            </div>
          </div>

          <div class="col-lg-6">
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Stage :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Stage }}
                </span>
              </b>
            </div>
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Probability :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Probability }}
                </span>
              </b>
            </div>
            <div>
              <b>
                <span class="text-end text-black-50 col_1">Source Ref :</span>
                <span class="col-lg-3 text-start col_2">
                  {{ entityData?.Source_Ref }}
                </span>
              </b>
            </div>
          </div>

          <div class="row pt-2">
            <div id="schedule "><b>Next Schedule Action :</b></div>
            <div id="col_2 ">
              <b
                >Follow up action on
                {{ entityData?.Opendate | date: "dd MMM YYYY " }}</b
              >
              <br />
              <b>To call and ask for demo meeting</b>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- links -->

    <ul class="nav nav-tabs billing">
      <li class="nav-item hover-shadow m-1">
        <a
          class="nav-link text-center border border-primary link"
          (click)="product()"
        >
          PRODUCTS
        </a>
      </li>

      <li class="nav-item hover-shadow m-1">
        <a class="nav-link border border-primary link" (click)="action()">
          ACTIONS&nbsp;&nbsp;<span
            class="text-center"
            entityData
            *ngIf="entityData.ActionCount"
          >
            ({{ entityData?.ActionCount }})</span
          >
        </a>
      </li>
      <li class="nav-item hover-shadow m-1">
        <a class="nav-link border border-primary link" data-bs-toggle="tab ">
          CHATS &nbsp;&nbsp;<span
            class="text-center"
            entityData
            *ngIf="entityData.Chatcnt !== '0'"
            >({{ entityData?.Chatcnt }})</span
          >
        </a>
      </li>
      <li class="nav-item hover-shadow m-1">
        <a class="nav-link border border-primary link" data-bs-toggle="tab "
          >ATTACHMENTS&nbsp;&nbsp;<span
            class="text-center"
            entityData
            *ngIf="entityData.schedule"
            >({{ entityData?.schedule }})</span
          >
        </a>
      </li>
      <li class="nav-item hover-shadow m-1">
        <a class="nav-link border border-primary link" data-bs-toggle="tab "
          >VOUCHERS&nbsp;&nbsp;<span
            class="text-center"
            entityData
            *ngIf="entityData.schedule"
            >({{ entityData?.schedule }})</span
          >
        </a>
      </li>
      <li class="nav-item hover-shadow m-1">
        <a
          class="nav-link border border-primary link"
          data-bs-toggle="tab "
          (click)="noteTable()"
          >Notes&nbsp;&nbsp;
          <span class="text-center" entityData *ngIf="entityData.NotesCount"
            >({{ entityData?.NotesCount }})</span
          >
        </a>
      </li>
    </ul>
  </div>
  <div class="ms-2 me-2" *ngIf="viewProductTable" id="viewTables ">
    <table class="table table-striped table-hover" *ngIf="ViewProductDetail">
      <thead>
        <tr class="table-primary">
          <th>Product</th>
          <th>Rate</th>
          <th>Discount</th>
          <th>Quantity</th>
          <th>Amount</th>
          <th>Taxes</th>
          <th>TaxAmount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let Product of ViewProductDetail">
          <td>{{ Product.Name }}</td>
          <td>{{ Product.rate }}</td>
          <td>{{ Product.Discount_val }}</td>
          <td>{{ Product.Quantity }}</td>
          <td>{{ Product.amount }}</td>
          <td>{{ Product.Taxes_val }}</td>
          <td>{{ Product.TaxAmount_val }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="ms-2 me-2" *ngIf="actionTable">
    <table class="table table-striped table-hover">
      <thead>
        <tr class="table-primary">
          <th>Acu Id</th>
          <th>Sch Id</th>
          <th>Date</th>
          <th>Time</th>
          <th>By</th>
          <th>Done</th>
          <th>Link</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let Action of ViewActionDetail">
          <td>{{ Action.ScheduleActionId }}</td>
          <td>{{ Action.SeqId }}</td>
          <td>{{ Action.ActionStartDate | date: "dd MMM y" }}</td>
          <td>{{ Action.ActionStartTime }}</td>
          <td>{{ Action.username }}</td>
          <td>{{ Action.Taxes_val }}</td>
          <td>{{ Action.TaxAmount_val }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="ms-2 me-2" *ngIf="viewNoteTable">
    <app-note></app-note>
  </div>
</div>
